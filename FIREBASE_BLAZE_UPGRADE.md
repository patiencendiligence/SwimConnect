# 🚀 Firebase Blaze 플랜 업그레이드 가이드

## ⚠️ 왜 업그레이드가 필요한가요?

Firebase Storage를 사용하려면 **Blaze 플랜**(종량제)이 필요합니다.

**하지만 걱정하지 마세요!**
- ✅ 무료 할당량이 있어서 소규모 사용은 **0원**
- ✅ 카드 등록만 필요 (실제 결제는 무료 범위 초과 시만)
- ✅ 예산 알림 설정으로 안전하게 관리 가능

## 📝 업그레이드 단계

### 1단계: Firebase Console 접속
```
https://console.firebase.google.com/
→ SwimConnect 프로젝트 선택
```

### 2단계: 요금제 업그레이드
1. 왼쪽 하단 **⚙️ 설정** (톱니바퀴) 클릭
2. **"사용량 및 결제"** 탭 클릭
3. **"요금제 수정"** 버튼 클릭
4. **"Blaze 플랜 선택"** 클릭

### 3단계: 결제 정보 입력
1. **Google Cloud 결제 계정** 생성
2. 신용카드/체크카드 정보 입력
   - 국내 카드 모두 사용 가능
   - Visa, Mastercard, JCB 등
3. **"계정 만들기"** 클릭

### 4단계: 예산 알림 설정 (중요! 💰)
1. 같은 화면에서 **"예산 알림 설정"** 클릭
2. 예산 한도 설정:
   ```
   권장 설정:
   - 첫 번째 알림: 월 1달러 (약 1,300원)
   - 두 번째 알림: 월 5달러 (약 6,500원)
   - 세 번째 알림: 월 10달러 (약 13,000원)
   ```
3. 이메일 알림 활성화 ✅
4. **"저장"** 클릭

### 5단계: Storage 규칙 설정
1. Firebase Console → **"Storage"** 메뉴
2. **"시작하기"** 클릭
3. **테스트 모드** 선택 (개발용)
4. 위치: **asia-northeast3 (Seoul)** 선택
5. **"완료"** 클릭

## 💰 실제 비용 예상

### 개발 단계 (테스트)
```
월 비용: 0원 ✅

- 업로드: 100장/월
- 저장: 100MB
- 다운로드: 500MB/월
→ 모두 무료 범위 내!
```

### 초기 운영 (사용자 1,000명)
```
월 비용: 0~2달러 (약 0~2,600원)

- 프로필 사진: 1,000장 (500MB)
- 피드 이미지: 3,000장/월 (3GB 저장)
- 다운로드: 2GB/월

무료 할당량:
- 저장 5GB 중 3.5GB 사용 ✅
- 다운로드 1GB 무료 + 1GB 초과
  → 초과분 비용: 1GB × $0.12 = $0.12 (약 156원)

총: 월 156~2,600원 정도 🎯
```

### 성장 단계 (사용자 10,000명)
```
월 비용: 5~15달러 (약 6,500~19,500원)

이 시점에는:
- 광고 수익: 월 50~200달러
- 유료 회원: 월 100~500달러
→ 비용 걱정 없음! ✅
```

## 🛡️ 비용 폭탄 방지 방법

### 1. 예산 한도 설정
Firebase Console → 설정 → "사용량 및 결제"
```
✅ 월 예산: 10달러로 설정
✅ 알림 이메일 등록
✅ 한도 초과 시 자동 중지 (선택사항)
```

### 2. 이미지 최적화
```typescript
// 이미지 크기 제한
const pickImageFromLibrary = async () => {
  const result = await launchImageLibrary({
    maxWidth: 800,     // 800px로 제한
    maxHeight: 800,
    quality: 0.6,      // 압축률 60%
  });
  // 결과: 2MB → 200KB로 감소! 💰
};
```

### 3. 모니터링
```
매일 체크:
1. Firebase Console 접속
2. 설정 → "사용량 및 결제"
3. 오늘의 사용량 확인
4. 예상 월 비용 확인
```

## ⚡ 빠른 시작 체크리스트

- [ ] Firebase Console 로그인
- [ ] SwimConnect 프로젝트 선택
- [ ] 설정 → "사용량 및 결제"
- [ ] "Blaze 플랜 선택" 클릭
- [ ] 카드 정보 입력 (국내 카드 가능)
- [ ] **예산 알림 설정**: 월 5달러
- [ ] Storage 활성화 (테스트 모드)
- [ ] 앱 다시 실행하여 테스트!

## 🎯 결론

**Blaze 플랜 = 무료로 시작 + 안전장치**

- ✅ 무료 할당량으로 개발 완전 무료
- ✅ 예산 알림으로 비용 관리
- ✅ 성장 후에는 수익으로 비용 커버

**추천 전략:**
1. Blaze 플랜으로 업그레이드 (지금)
2. 예산 알림 $5로 설정
3. 개발 완료 후 모니터링
4. 사용자 증가 시 수익 모델 도입

걱정하지 마세요! 대부분의 개발자들이 이 방식으로 **무료로** 사용합니다! 💪

## 📞 문제 발생 시

### "결제 정보를 추가할 수 없습니다"
- 카드사에 해외 결제 승인 확인
- 체크카드 사용 (신용카드 대신)
- 다른 카드로 시도

### "예산 알림이 작동하지 않습니다"
- Gmail 설정에서 Firebase 이메일 허용
- 스팸 폴더 확인

### "Storage 규칙 오류"
```javascript
// Firebase Console → Storage → Rules
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read: if true;  // 개발 중에만!
      allow write: if request.auth != null;
    }
  }
}
```

---

궁금한 점이 있으면 언제든 물어보세요! 🙋‍♂️

